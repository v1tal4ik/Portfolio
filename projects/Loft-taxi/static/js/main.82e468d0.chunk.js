(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,a){e.exports=a(356)},170:function(e,t,a){},175:function(e,t,a){},177:function(e,t,a){},180:function(e,t,a){},182:function(e,t,a){},184:function(e,t,a){},243:function(e,t,a){},245:function(e,t,a){},354:function(e,t,a){},356:function(e,t,a){"use strict";a.r(t);var n,r,c,o,l,s=a(1),i=a.n(s),u=a(4),m=a.n(u),p=(a(170),a(28)),d=a(15),f=a(360),h=a(365),b=Object(h.a)("AUTH/SUCCESS_AUTH"),O=Object(h.a)("AUTH/ERROR_AUTH"),E=Object(h.a)("AUTH/EXIT_AUTH"),v=Object(f.a)({},"test@test.com"),j=Object(f.a)({},"321"),g=Object(f.a)((n={},Object(d.a)(n,b,function(){return!0}),Object(d.a)(n,O,function(){return!1}),Object(d.a)(n,E,function(){return!1}),n),!1),C=Object(f.a)((r={},Object(d.a)(r,O,function(){return"* \u041b\u043e\u0433\u0456\u043d \u0430\u0431\u043e \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u043d\u0435 \u0432\u0456\u0440\u043d\u043e"}),Object(d.a)(r,E,function(){return""}),r),""),y=Object(p.b)({login:v,password:j,isAuthorize:g,error:C}),N=function(e){return e.auth.login},w=function(e){return e.auth.password},A=function(e){return e.auth.isAuthorize},k=function(e){return e.auth.error},S=Object(h.a)("USER/SAVE_DATA"),_=Object(h.a)("USER/FETCH_ERROR"),x=Object(f.a)(Object(d.a)({},S,function(e,t){return t.payload.name}),""),z=Object(f.a)(Object(d.a)({},S,function(e,t){return t.payload.numberOfCard}),""),T=Object(f.a)(Object(d.a)({},S,function(e,t){return t.payload.date}),""),D=Object(f.a)(Object(d.a)({},S,function(e,t){return t.payload.cvv}),""),R=Object(f.a)((c={},Object(d.a)(c,_,function(e,t){return t.payload}),Object(d.a)(c,S,function(){return""}),c),""),U=Object(p.b)({name:x,numberOfCard:z,date:T,cvv:D,error:R}),P=function(e){return e.user.name},F=function(e){return e.user.numberOfCard},L=function(e){return e.user.date},I=function(e){return e.user.cvv},H=function(e){return e.user.error},M=Object(h.a)("MAP/SAVE_COORDS"),V=Object(h.a)("MAP/SKIP_ROUTE"),X=Object(f.a)((o={},Object(d.a)(o,M,function(e,t){return t.payload}),Object(d.a)(o,V,function(){return[]}),o),[]),q=Object(f.a)((l={},Object(d.a)(l,M,function(){return!0}),Object(d.a)(l,V,function(){return!1}),l),!1),J=Object(p.b)({coords:X,isOrder:q}),W=function(e){return e.map.coords},Z=function(e){return e.map.isOrder},B=Object(p.b)({auth:y,user:U,map:J}),G=a(19),Q=a(16),Y=a(17),K=a(20),$=a(18),ee=a(21),te=a(362),ae=a(363),ne=a(364),re=a(361),ce=a(358),oe=(a(175),function(e){function t(){var e,a;Object(Q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).checkedAuth=function(e){a.props.isAuthorize||e.preventDefault()},a.handleStatus=function(e){e.preventDefault();var t=a.props,n=t.handlePressEnter,r=t.exitAuth;"\u0412\u0438\u0439\u0442\u0438"===e.target.textContent?r():n(e)},a}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this.props.isAuthorize;return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"header"},i.a.createElement(ce.a,{to:"/",className:"title"},"LoftTaxi"),i.a.createElement("ul",{className:"nav"},i.a.createElement(ce.a,{to:"/app",className:"nav-item",onClick:this.checkedAuth},"\u043a\u0430\u0440\u0442\u0430"),i.a.createElement(ce.a,{to:"/profile",className:"nav-item",onClick:this.checkedAuth},"\u043f\u0440\u043e\u0444\u0456\u043b\u044c"),i.a.createElement(ce.a,{to:"/app",className:"nav-item",onClick:this.handleStatus},e?"\u0412\u0438\u0439\u0442\u0438":"\u0423\u0432\u0456\u0439\u0442\u0438"))))}}]),t}(s.Component)),le=Object(G.b)(function(e){return{isAuthorize:A(e)}},{exitAuth:E})(oe),se=(a(177),function(e){function t(){var e,a;Object(Q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).state={current_login:"",current_password:""},a.handleChange=function(e){"login"===e.target.name&&a.setState({current_login:e.target.value}),"password"===e.target.name&&a.setState({current_password:e.target.value})},a.handlePressEnter=function(e){var t=a.props,n=t.login,r=t.password,c=t.successAuth,o=t.errorAuth,l=a.state,s=l.current_login,i=l.current_password;n===s&&r===i?c():(e.preventDefault(),o())},a}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthorize,a=e.error;return t?i.a.createElement(re.a,{to:"/app"}):i.a.createElement(s.Fragment,null,i.a.createElement(le,{handlePressEnter:this.handlePressEnter}),i.a.createElement("form",{className:"login-form"},i.a.createElement("h3",{className:"login-form-title"},"\u0423\u0432\u0456\u0439\u0442\u0438")," ",i.a.createElement("br",null),i.a.createElement("label",{className:"login-form-label"},"\u0406\u043c\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430*")," ",i.a.createElement("br",null),i.a.createElement("input",{className:"login-form-input",type:"text",size:"25",name:"login",onChange:this.handleChange}),i.a.createElement("br",null),i.a.createElement("label",{className:"login-form-label"},"\u041f\u0430\u0440\u043e\u043b\u044c*")," ",i.a.createElement("br",null),i.a.createElement("input",{className:"login-form-input",type:"password",size:"25",name:"password",onChange:this.handleChange}),i.a.createElement("br",null),i.a.createElement("p",{className:"login-form-error"},a),i.a.createElement(ce.a,{to:"/app"},i.a.createElement("button",{className:"login-form-btn",onClick:this.handlePressEnter},"\u0423\u0432\u0456\u0439\u0442\u0438"))))}}]),t}(s.Component)),ie=Object(G.b)(function(e){return{login:N(e),password:w(e),isAuthorize:A(e),error:k(e)}},{successAuth:b,errorAuth:O})(se),ue=a(101),me=a.n(ue),pe=(a(180),0),de=function(e){function t(){var e,a;Object(Q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).map=null,a.mapContainer=i.a.createRef(),a}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){me.a.accessToken="pk.eyJ1IjoidjF0YWw0aWsiLCJhIjoiY2pyaGZxazNrMDZxOTQ0cGtxc2NyNzM4ZyJ9.fzm42pF2nqngAPU2OX5cvQ",this.map=new me.a.Map({container:this.mapContainer.current,style:"mapbox://styles/mapbox/streets-v9",center:[30.2656504,59.8029126],zoom:10})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.coords,a=e.isOrder,n=t[0];a?(this.map.addLayer({id:"route"+pe,type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#e50d0d","line-width":8}}),this.map.flyTo({center:n,zoom:12,speed:.6,curve:1,easing:function(e){return e}})):(--pe,this.map.removeLayer("route"+pe),this.map.flyTo({center:[30.2656504,59.8029126],zoom:10,speed:.8,curve:1,easing:function(e){return e}})),pe++}},{key:"componentWillUnmount",value:function(){this.map.remove()}},{key:"render",value:function(){return i.a.createElement("div",{className:"mapBox",ref:this.mapContainer})}}]),t}(s.Component),fe=Object(G.b)(function(e){return{coords:W(e),isOrder:Z(e)}},{})(de),he=a(359),be=function(e,t){return fetch("https://loft-taxi.glitch.me/route?address1=".concat(e,"&address2=").concat(t)).then(function(e){return e.json()})},Oe=(a(182),a(184),he.a.Option),Ee=function(e){function t(){var e,a;Object(Q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).state={address:[],from:"",to:"",error:""},a.hangleChange=function(e,t){"from"===t&&a.setState({from:e}),"to"===t&&a.setState({to:e})},a.fetchAddress=function(){var e=a.state,t=e.from,n=e.to;if(t&&n){if(t===n)return a.setState({error:"* \u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"});var r=a.props.saveCoords;be(t,n).then(function(e){r(e)}),a.setState({error:""})}else a.setState({error:"* \u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0443\u0441\u0456 \u043f\u043e\u043b\u044f"})},a.newOrder=function(){(0,a.props.skipRoute)()},a}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://loft-taxi.glitch.me/addressList").then(function(e){return e.json()}).then(function(t){e.setState({address:t.addresses})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isIndetefine,n=t.isOrder,r=this.state,c=r.address,o=r.error;return a?n?i.a.createElement("div",{className:"order-window"},i.a.createElement("div",{className:"profile-modal"},i.a.createElement("h1",null,"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u0438\u0439\u043d\u044f\u0442\u043e"),i.a.createElement("p",null,"\u0412\u0430\u0448\u0435 \u0442\u0430\u043a\u0441\u0456 \u0432\u0436\u0435 \u0457\u0434\u0435 \u0434\u043e \u0412\u0430\u0441. \u041f\u0440\u0438\u0431\u043b\u0438\u0437\u043d\u0438\u0439 \u0447\u0430\u0441 \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u043d\u043d\u044f 10 \u0445\u0432\u0438\u043b\u0438\u043d"),i.a.createElement("button",{className:"profile-btn",onClick:this.newOrder},"\u0417\u0440\u043e\u0431\u0438\u0442\u0438 \u043d\u043e\u0432\u0435 \u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"))):i.a.createElement("div",{className:"order-window"},i.a.createElement("div",{className:"profile-modal"},i.a.createElement("h1",null,"\u0412\u0438\u043a\u043b\u0438\u043a \u0442\u0430\u043a\u0441\u0456"),i.a.createElement(he.a,{name:"from",placeholder:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f",optionFilterProp:"children",className:"order-window-select",onChange:function(t){return e.hangleChange(t,"from")}},c.map(function(e){return i.a.createElement(Oe,{key:e,value:e},e)})),i.a.createElement(he.a,{placeholder:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u043f\u0440\u0438\u0431\u0443\u0442\u0442\u044f",optionFilterProp:"children",className:"order-window-select",onChange:function(t){return e.hangleChange(t,"to")}},c.map(function(e){return i.a.createElement(Oe,{key:e,value:e},e)})),i.a.createElement("p",{className:"order-window-error"},o),i.a.createElement("button",{className:"profile-btn",onClick:this.fetchAddress},"\u0412\u0438\u043a\u043b\u0438\u043a\u0430\u0442\u0438 \u0442\u0430\u043a\u0441\u0456"))):i.a.createElement("div",{className:"order-window"},i.a.createElement("div",{className:"profile-modal"},i.a.createElement("h1",null,"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043b\u0430\u0442\u0456\u0436\u043d\u0456 \u0434\u0430\u043d\u0456"),i.a.createElement("p",null,"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0431\u0430\u043d\u043a\u0456\u0432\u0441\u044c\u043a\u0443 \u043a\u0430\u0440\u0442\u0443, \u0449\u043e\u0431 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f."),i.a.createElement(ce.a,{to:"/profile"},i.a.createElement("button",{className:"profile-btn"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"))))}}]),t}(s.Component),ve=Object(G.b)(function(e){return{isIndetefine:P(e),isOrder:Z(e)}},{saveCoords:M,skipRoute:V})(Ee),je=(a(243),function(e){function t(){return Object(Q.a)(this,t),Object(K.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return this.props.isAuthorize?i.a.createElement(s.Fragment,null,i.a.createElement(le,null),i.a.createElement(fe,null),i.a.createElement(ve,null)):i.a.createElement(re.a,{to:"/"})}}]),t}(s.Component)),ge=Object(G.b)(function(e){return{isAuthorize:A(e)}},{})(je),Ce=a(100),ye=a.n(Ce),Ne=a(159),we=a.n(Ne),Ae=a(163),ke=a.n(Ae),Se=a(161),_e=a.n(Se),xe=a(162),ze=a.n(xe),Te=a(160),De=a.n(Te),Re=(a(245),function(e){function t(){var e,a;Object(Q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(K.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).state={name:a.props.name,numberOfCard:a.props.numberOfCard,date:a.props.date,cvv:a.props.cvv,isOpen:!1},a.handlePressEnter=function(e){e.preventDefault();var t=a.props,n=t.saveData,r=t.fetchError,c=a.state,o=c.name,l=c.numberOfCard,s=c.date,i=c.cvv;o&&l&&s&&i?(n(a.state),a.setState({isOpen:!0})):r("* \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0443\u0441\u0456 \u0434\u0430\u043d\u0456")},a.handleChange=function(e){"name"===e.target.name&&a.setState({name:e.target.value}),"numberOfCard"===e.target.name&&a.setState({numberOfCard:e.target.value}),"date"===e.target.name&&a.setState({date:e.target.value}),"cvv"===e.target.name&&a.setState({cvv:e.target.value})},a.validateCard=function(e){4!==e.target.value.length&&9!==e.target.value.length&&14!==e.target.value.length||(e.target.value=e.target.value+" ")},a.handleClose=function(){return a.setState({isOpen:!1})},a}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this.props.error,t=this.state,a=t.isOpen,n=t.name,r=t.numberOfCard,c=t.date,o=t.cvv;return i.a.createElement(s.Fragment,null,i.a.createElement("form",{className:"user-form"},i.a.createElement("h3",{className:"user-form-title"},"\u041f\u0440\u043e\u0444\u0456\u043b\u044c"),i.a.createElement("h3",{className:"user-form-sub_title"},"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438"),i.a.createElement("div",{className:"inp-block"},i.a.createElement("label",{className:"user-form-label"},"\u0406\u043c\u044f \u0432\u043b\u0430\u0441\u043d\u0438\u043a\u0430*"),i.a.createElement("br",null),i.a.createElement("input",{className:"user-form-input",type:"text",name:"name",value:n,onChange:this.handleChange,required:!0})),i.a.createElement("div",{className:"inp-block"},i.a.createElement("label",{className:"user-form-label"},"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u0438*"),i.a.createElement("br",null),i.a.createElement("input",{className:"user-form-input",type:"text",maxLength:"19",name:"numberOfCard",value:r,onChange:this.handleChange,required:!0})),i.a.createElement("div",{className:"inp-block"},i.a.createElement("label",{className:"user-form-label"},"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0456\u043d\u0447\u0435\u043d\u043d\u044f \u0441\u0440\u043e\u043a\u0443*"),i.a.createElement("br",null),i.a.createElement("input",{className:"user-form-input",type:"date",name:"date",value:c,onChange:this.handleChange,required:!0})),i.a.createElement("div",{className:"inp-block"},i.a.createElement("label",{className:"user-form-label"},"CVV *"),i.a.createElement("br",null),i.a.createElement("input",{className:"user-form-input",type:"password",maxLength:"3",name:"cvv",value:o,onChange:this.handleChange,required:!0})),i.a.createElement("p",{className:"user-form-error"},e),i.a.createElement("button",{className:"user-form-btn",onClick:this.handlePressEnter},"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438")),i.a.createElement(we.a,{open:a,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(De.a,{id:"alert-dialog-title"},"\u0412\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0431\u0443\u043b\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e"),i.a.createElement(_e.a,null,i.a.createElement(ze.a,{id:"alert-dialog-description"},"\u0412\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0431\u0443\u043b\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e. \u0422\u0435\u043f\u0435\u0440 \u0412\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447, \u0456 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u043d\u043e\u0446\u0456\u043d\u043d\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043e\u0434\u0430\u0442\u043e\u043a!")),i.a.createElement(ke.a,null,i.a.createElement(ye.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},i.a.createElement(ce.a,{to:"/app",className:"user-form-link"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043a\u0430\u0440\u0442\u0443")))))}}]),t}(s.Component)),Ue=Object(G.b)(function(e){return{name:P(e),numberOfCard:F(e),date:L(e),cvv:I(e),error:H(e)}},{saveData:S,fetchError:_})(Re),Pe=(a(354),function(e){function t(){return Object(Q.a)(this,t),Object(K.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return this.props.isAuthorize?i.a.createElement(s.Fragment,null,i.a.createElement(le,null),i.a.createElement(Ue,null)):i.a.createElement(re.a,{to:"/"})}}]),t}(s.Component)),Fe=Object(G.b)(function(e){return{isAuthorize:A(e)}},{})(Pe),Le=function(e){function t(){return Object(Q.a)(this,t),Object(K.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return i.a.createElement(te.a,null,i.a.createElement(ae.a,null,i.a.createElement(ne.a,{path:"/",component:ie,exact:!0}),i.a.createElement(ne.a,{path:"/app",component:ge,exact:!0}),i.a.createElement(ne.a,{path:"/profile",component:Fe,exact:!0}),i.a.createElement(re.a,{to:"/"})))}}]),t}(s.Component),Ie=Object(p.c)(B,void 0,window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e});m.a.render(i.a.createElement(G.a,{store:Ie},i.a.createElement(Le,null)),document.getElementById("root"))}},[[165,2,1]]]);
//# sourceMappingURL=main.82e468d0.chunk.js.map